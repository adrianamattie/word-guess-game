<!DOCTYPE>
<html>

<head>
    <title>Week 3 Day 2 - Loops</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1>Press any key to get started!</h1>
            <h3>Guess the country I have visited: ðŸŒŽ </h3>
            <div id="word"></div>
            <div id="wins"></div>
        <button type="button" class="btn btn-success">Restart</button>
    </div>


    <script type="text/javascript">
        //create variables 

        var wins = 0;


        //create an array to hold my words for hangman
        var countries = [
            "australia", //index 0
            "england", //index 1
            "scotland", //index 2
            "ireland", //index 3
            "israel", //index 4
            "aruba" //index 5
        ];

        //to randomly pick a country from the array
        var randomCountries = countries[Math.floor(Math.random() * countries.length)];
        console.log(randomCountries)

        // what to display when each index is picked 
        var answerArray = [];
        for (var i = 0; i < randomCountries.length; i++) {
            answerArray[i] = "_"+" ";
           
            var newDiv = document.createElement("word");
            newDiv.textContent = answerArray[i];
            word.appendChild(newDiv);

          // var getWord = document.getElementById("word") //this was my first attempt but creating a new div worked to get correct result
         // getWord.textContent = (answerArray[i]); //why isn't this printing more "_" on the page??
        }
        var remainingLetters = randomCountries.length;

        // Game Loop
        while (remainingLetters > 0) {
            // Show the player their progress  
           document.addEventListener("keyup", (event) => {
            var keyName = event.key; 
            
            document.getElementsByClassName("newDiv")
            newDiv.textContent = (keyName);
           
            //storing the keys that were pressed
            var keysPressed = String.keyName; {
                  
            }
            //    getWord.textContent = (answerArray.join.call(event.key));
           });
            // alert(answerArray.join(" ")); //change this to show on the page******
            // Take input from the player
            var guess = prompt("Guess a letter, or click cancel to stop playing.");
            //var guess = preGuess.toLowerCase();//so user can use capitals or lowercase letters
            if (guess === null) {
                break; // to exit the loop - guess not valid
            } else if (guess.length !== 1)
                alert("Please enter a single Letter.");
            else {
                 // Update answerArray and remainingLetters for every correct guess
                for (var j = 0; j < randomCountries.length; j++) {
                    if (randomCountries[j] === guess) { //if condition is false we will loop again until the condition is met
                        answerArray[j] = guess; // once true the answerArray will update with the correct guessed letter
                        remainingLetters--;
                    
                    }
                }
                }
            
        }

    alert(answerArray.join(" ")); //Change to show on the page
    alert("Good Job! The Answer was " + word);
        
    </script>
</body>

</html>